<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nature's Whisper | Wish Bookmarks</title>
    <style>
        /* --- 1. CORE STYLES & VARIABLES --- */
        :root {
            --primary-green: #4A6741;
            --secondary-sage: #8FBC8F;
            --bg-cream: #FDFBF7;
            --text-dark: #2C3E28;
            --paper-texture: #F0EAD6;
            --gold-accent: #C5A059;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Georgia', serif;
            background-color: var(--bg-cream);
            color: var(--text-dark);
            overflow-x: hidden;
            transition: background 0.5s;
        }

        h1, h2, h3 { font-weight: normal; letter-spacing: 0.05em; }
        button { cursor: pointer; font-family: inherit; }

        /* --- 2. NAVIGATION --- */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: rgba(253, 251, 247, 0.9);
            backdrop-filter: blur(5px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .logo { font-size: 1.5rem; font-weight: bold; color: var(--primary-green); }
        
        .nav-links button {
            background: none;
            border: none;
            margin-left: 20px;
            font-size: 1rem;
            color: var(--text-dark);
            border-bottom: 2px solid transparent;
            transition: 0.3s;
        }

        .nav-links button:hover, .nav-links button.active {
            color: var(--primary-green);
            border-bottom-color: var(--primary-green);
        }

        /* --- 3. SECTIONS MANAGEMENT --- */
        .page-section {
            display: none; /* Hidden by default */
            min-height: 100vh;
            padding-top: 80px;
            animation: fadeIn 0.8s ease;
        }

        .page-section.active {
            display: block;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- 4. HERO PAGE (Nature Animation) --- */
        #home-section {
            position: relative;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .hero-title {
            z-index: 10;
            background: rgba(253, 251, 247, 0.85);
            padding: 40px 60px;
            border-radius: 8px;
            border: 1px solid var(--primary-green);
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .hero-title h1 { font-size: 3rem; margin-bottom: 15px; color: var(--primary-green); }
        .hero-title p { font-size: 1.2rem; color: #555; }

        /* Horizontal Scrolling Background */
        .scrolling-bg {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            opacity: 0.6;
            pointer-events: none;
        }

        .scroll-row {
            display: flex;
            width: 200%; /* Make it wide enough to loop */
        }

        .scroll-left { animation: scrollLeft 30s linear infinite; }
        .scroll-right { animation: scrollRight 35s linear infinite; }

        @keyframes scrollLeft { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        @keyframes scrollRight { 0% { transform: translateX(-50%); } 100% { transform: translateX(0); } }

        /* The "Flat Style" Bookmark Elements */
        .bookmark-deco {
            width: 120px;
            height: 300px;
            margin: 0 30px;
            background-color: #E8F0E8;
            border-radius: 4px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            box-shadow: 2px 4px 10px rgba(0,0,0,0.1);
        }
        /* Top hole for bookmark */
        .bookmark-deco::before {
            content: '';
            position: absolute; top: 15px;
            width: 10px; height: 10px;
            background: #fff;
            border-radius: 50%;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }
        /* Tassel Simulation */
        .bookmark-deco::after {
            content: '';
            position: absolute; top: 15px;
            width: 2px; height: 40px;
            background: var(--gold-accent);
            transform: translateY(-100%);
        }

        /* --- 5. FLOATING WISH BUTTON --- */
        .wish-fab {
            position: fixed;
            bottom: 40px;
            right: 40px;
            background-color: var(--primary-green);
            color: white;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: none;
            font-size: 2rem;
            box-shadow: 0 5px 20px rgba(74, 103, 65, 0.4);
            z-index: 90;
            transition: transform 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .wish-fab:hover { transform: scale(1.1) rotate(10deg); }
        .wish-fab::after { content: 'Make a Wish'; position: absolute; font-size: 10px; bottom: 18px; }

        /* --- 6. MODAL & INTERACTION --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(44, 62, 40, 0.7);
            z-index: 200;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--bg-cream);
            padding: 40px;
            width: 90%;
            max-width: 500px;
            border-radius: 12px;
            text-align: center;
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .close-modal {
            position: absolute; top: 15px; right: 20px;
            font-size: 1.5rem; cursor: pointer; color: #888;
        }

        textarea {
            width: 100%;
            height: 120px;
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-family: inherit;
            resize: none;
        }

        .btn-primary {
            background: var(--primary-green); color: white;
            padding: 12px 30px; border: none; border-radius: 30px;
            font-size: 1rem; transition: 0.3s;
        }
        .btn-primary:hover { background: #3a5232; }

        .btn-secondary {
            background: transparent; border: 1px solid var(--primary-green);
            color: var(--primary-green); padding: 8px 20px; border-radius: 20px;
            margin-top: 10px; font-size: 0.9rem;
        }
        .btn-secondary:hover { background: #f0f5f0; }

        /* Sending Animation */
        .sending-anim { display: none; }
        .sending-anim.active { display: block; }
        .particles { font-size: 2rem; animation: floatUp 2s ease-out infinite; }
        @keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-50px); } }

        /* Recommendation Card */
        .rec-card { display: none; margin-top: 20px; border: 1px solid #ddd; padding: 20px; border-radius: 8px; background: #fff; }
        .rec-card.show { display: block; animation: slideUp 0.5s ease; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* --- 7. SHOP PAGE --- */
        #shop-section {
            padding: 100px 10%;
            background-color: #F8F6F1;
        }

        .shop-header { text-align: center; margin-bottom: 50px; }
        .shop-header h2 { font-size: 2.5rem; color: var(--primary-green); margin-bottom: 10px; }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
        }

        .product-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }

        .product-img {
            height: 350px;
            background-color: #E8F0E8;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5rem;
            color: var(--primary-green);
            position: relative;
        }
        
        .product-img::after {
            content: ''; position: absolute; top: 20px; 
            width: 16px; height: 16px; background: white; border-radius: 50%;
        }

        .product-info { padding: 20px; text-align: center; }
        .product-name { font-size: 1.2rem; font-weight: bold; margin-bottom: 5px; }
        .product-desc { font-size: 0.9rem; color: #666; margin-bottom: 15px; line-height: 1.4; }
        .product-price { color: var(--gold-accent); font-weight: bold; font-size: 1.1rem; }

    </style>
</head>
<body>

    <nav>
        <div class="logo">üçÉ WishLeaf</div>
        <div class="nav-links">
            <button onclick="showSection('home')" id="nav-home" class="active">Sanctuary</button>
            <button onclick="showSection('shop')" id="nav-shop">The Collection</button>
        </div>
    </nav>

    <section id="home-section" class="page-section active">
        <div class="scrolling-bg">
            <div class="scroll-row scroll-left" id="bg-row-1">
                </div>
            <div class="scroll-row scroll-right" id="bg-row-2">
                 </div>
        </div>

        <div class="hero-title">
            <h1>Whisper to the Earth</h1>
            <p>Plant a wish, let it grow, and find the token that guides you.</p>
        </div>

        <button class="wish-fab" onclick="openWishModal()">‚ú®</button>
    </section>

    <section id="shop-section" class="page-section">
        <div class="shop-header">
            <h2>The Bookmark Collection</h2>
            <p>Handcrafted talismans for your journey.</p>
        </div>
        <div class="product-grid" id="shop-grid">
            </div>
    </section>

    <div class="modal-overlay" id="wish-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeWishModal()">&times;</span>
            
            <div id="modal-step-1">
                <h3>Cast Your Wish</h3>
                <p style="font-size: 0.9rem; color:#666; margin-top:5px;">The wind will carry it to where it needs to go.</p>
                <textarea id="wish-input" placeholder="I wish for..."></textarea>
                <button class="btn-primary" onclick="submitWish()">Release Wish</button>
            </div>

            <div id="modal-step-2" class="sending-anim">
                <div class="particles">üçÉ üå∏ ‚ú® üçÇ</div>
                <p>Sending your wish to the universe...</p>
            </div>

            <div id="modal-step-3" style="display: none;">
                <h3>The Forest Answers</h3>
                <p>This bookmark has chosen you:</p>
                
                <div class="rec-card show">
                    <div id="rec-img" style="font-size: 3rem; margin-bottom: 10px;"></div>
                    <h4 id="rec-name" style="margin-bottom: 5px;"></h4>
                    <p id="rec-desc" style="font-size: 0.9rem; color: #555;"></p>
                    <div style="margin-top: 15px;">
                        <button class="btn-primary" onclick="goToShop()">View in Shop</button>
                    </div>
                </div>

                <button class="btn-secondary" onclick="rerollRecommendation()">Not this one? Shuffle ‚Üª</button>
            </div>
        </div>
    </div>

    <script>
        /* --- DATA: PRODUCTS --- */
        const products = [
            {
                id: 1,
                name: "The Ginkgo's Resilience",
                emoji: "üçÇ",
                desc: "Represents endurance and hope. Perfect for those facing difficult challenges or new beginnings.",
                price: "$12.00",
                color: "#E8D5B5"
            },
            {
                id: 2,
                name: "The Fern's Secret",
                emoji: "üåø",
                desc: "Symbolizes sincerity and magic. Use this when you are seeking clarity or hidden truths.",
                price: "$12.00",
                color: "#CDEAC0"
            },
            {
                id: 3,
                name: "The Cherry Blossom",
                emoji: "üå∏",
                desc: "A reminder of the fleeting beauty of life. Best for mindfulness and appreciating the present moment.",
                price: "$14.00",
                color: "#FDE2E4"
            },
            {
                id: 4,
                name: "The Oak Leaf",
                emoji: "üçÉ",
                desc: "Strength and grounding. For those who need to stand firm in their decisions.",
                price: "$12.00",
                color: "#A8C686"
            },
            {
                id: 5,
                name: "The Lavender Sprig",
                emoji: "üåæ",
                desc: "Deep peace and calmness. Recommended for anxiety relief and restful reading.",
                price: "$13.50",
                color: "#E6E6FA"
            },
            {
                id: 6,
                name: "The Midnight Vine",
                emoji: "üçá",
                desc: "Growth in the darkness. For those working late nights on their dreams.",
                price: "$15.00",
                color: "#D8BFD8"
            }
        ];

        /* --- INITIALIZATION --- */
        window.onload = function() {
            renderBackground();
            renderShop();
        };

        /* --- RENDER BACKGROUND ELEMENTS --- */
        function renderBackground() {
            const row1 = document.getElementById('bg-row-1');
            const row2 = document.getElementById('bg-row-2');
            
            // Create duplicates for smooth looping
            const items = [...products, ...products, ...products]; 
            
            items.forEach(p => {
                row1.innerHTML += createBookmarkDiv(p);
                row2.innerHTML += createBookmarkDiv(p);
            });
        }

        function createBookmarkDiv(product) {
            return `
                <div class="bookmark-deco" style="background-color: ${product.color}40;">
                    ${product.emoji}
                </div>
            `;
        }

        /* --- RENDER SHOP --- */
        function renderShop() {
            const grid = document.getElementById('shop-grid');
            grid.innerHTML = products.map(p => `
                <div class="product-card">
                    <div class="product-img" style="background-color: ${p.color}50;">${p.emoji}</div>
                    <div class="product-info">
                        <div class="product-name">${p.name}</div>
                        <div class="product-desc">${p.desc}</div>
                        <div class="product-price">${p.price}</div>
                        <button class="btn-primary" style="margin-top:10px; font-size:0.8rem;">Add to Cart</button>
                    </div>
                </div>
            `).join('');
        }

        /* --- NAVIGATION LOGIC --- */
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-links button').forEach(el => el.classList.remove('active'));

            // Show target
            document.getElementById(sectionId + '-section').classList.add('active');
            document.getElementById('nav-' + sectionId).classList.add('active');

            // Scroll to top
            window.scrollTo(0,0);
        }

        /* --- WISH INTERACTION LOGIC --- */
        const modal = document.getElementById('wish-modal');
        const step1 = document.getElementById('modal-step-1');
        const step2 = document.getElementById('modal-step-2');
        const step3 = document.getElementById('modal-step-3');

        function openWishModal() {
            modal.style.display = 'flex';
            resetModal();
        }

        function closeWishModal() {
            modal.style.display = 'none';
        }

        function resetModal() {
            step1.style.display = 'block';
            step2.classList.remove('active');
            step3.style.display = 'none';
            document.getElementById('wish-input').value = '';
        }

        function submitWish() {
            const wish = document.getElementById('wish-input').value;
            if(!wish.trim()) {
                alert("Please whisper a wish first...");
                return;
            }

            // Transition to Animation
            step1.style.display = 'none';
            step2.classList.add('active');

            // Wait 2 seconds then show result
            setTimeout(() => {
                step2.classList.remove('active');
                showRecommendation();
            }, 2000);
        }

        function showRecommendation() {
            step3.style.display = 'block';
            rerollRecommendation(); // Pick one initially
        }

        function rerollRecommendation() {
            // Pick random product
            const randomProduct = products[Math.floor(Math.random() * products.length)];
            
            document.getElementById('rec-name').innerText = randomProduct.name;
            document.getElementById('rec-img').innerText = randomProduct.emoji;
            document.getElementById('rec-desc').innerText = randomProduct.desc;
            
            // Optional: change modal border color to match product
            document.querySelector('.rec-card').style.borderTop = `4px solid ${randomProduct.color}`;
        }

        function goToShop() {
            closeWishModal();
            showSection('shop');
        }

        // Close modal if clicking outside
        window.onclick = function(event) {
            if (event.target == modal) {
                closeWishModal();
            }
        }
    </script>
</body>
</html>
